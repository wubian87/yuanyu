# 原语言规范（YuanYuYan Specification）

> v0.1 · 2025.12.10 · 月影工坊出品 · [byzx.xyz](https://byzx.xyz)

## 1. 定位

原语言是人与AI协作时代的原语语言。

- **原语** = 元素（碳、氢、氧）
- **描述** = 分子式
- **AI** = 化学反应
- **作品** = 物质
- **元素有限，物质无限**

## 2. 设计哲学

### 什么是原语言

- 用最少的规则描述本质
- 让AI理解意图并生成实现
- 传统语言规则多，因为机器笨；原语言规则少，因为AI懂

### 什么不是原语言

- ❌ 不是代码 — 不写逻辑
- ❌ 不是文档 — 不是给人审批的
- ❌ 不是流程图 — 不画步骤

## 3. 四层结构

| 层级 | 问题 | 说明 |
|------|------|------|
| **信息** | 是什么 | 定义实体及其属性 |
| **操作** | 做什么 | 定义用户可执行的动作 |
| **呈现** | 见什么 | 定义界面和展示形态 |
| **边界** | 守什么 | 定义约束和暂不做的事 |

## 4. 核心原语（48个）

共 12 类，每类 4 个原语：

| 类别 | 原语 |
|------|------|
| 存在类 | 创建、销毁、复制、引用 |
| 数据类 | 读取、写入、修改、查询 |
| 关系类 | 绑定、解绑、父子、依赖 |
| 状态类 | 状态、转换、触发、锁定 |
| 时间类 | 计时、延迟、周期、过期 |
| 空间类 | 容器、位置、移动、边界 |
| 数量类 | 计数、增减、上限、下限 |
| 顺序类 | 排序、队列、栈、优先级 |
| 流程类 | 开始、结束、分支、循环 |
| 权限类 | 可见、可用、角色、授权 |
| 感知类 | 输入、输出、监听、广播 |
| 交互类 | 点击、拖拽、滑动、长按 |

详细定义见 [core/primitives.yaml](./core/primitives.yaml)

## 5. 格式规范

### 5.1 基础格式

```yaml
名称: <项目名>

信息:
  <实体名>:
    <字段>: <类型>

操作:
  - <动作1>
  - <动作2>

呈现:
  <场景>: <形态>

边界:
  守: [<必须遵守的约束>]
  未: [<暂不实现的功能>]
```

### 5.2 类型系统

| 类型 | 说明 | 示例 |
|------|------|------|
| `string` | 文本 | `名称: string` |
| `number` | 数字 | `金额: number` |
| `boolean` | 布尔 | `已完成: boolean` |
| `datetime` | 时间 | `创建时间: datetime` |
| `[a, b, c]` | 枚举 | `状态: [待办, 进行, 完成]` |
| `实体名` | 引用 | `作者: 用户` |
| `[实体名]` | 列表 | `标签: [标签]` |

### 5.3 操作格式

```yaml
操作:
  # 简单操作
  - 新增
  - 删除
  
  # 带条件的操作
  - 记一笔 → 宠物获得食物
  
  # 带触发的操作
  - 连续记账7天 → 宠物进化
```

### 5.4 呈现格式

```yaml
呈现:
  # 场景: 形态
  首页: 列表 + 快速入口
  详情: 卡片
  统计: 饼图 + 趋势图
```

## 6. 叠加组合

### 6.1 继承语法

```yaml
名称: 新项目
继承: [项目A, 项目B]

# 可覆盖或扩展父项目的定义
信息:
  新实体:
    ...
```

### 6.2 叠加规则

- 两个描述相遇，涌现新物种
- 信息层：合并实体，同名字段后者覆盖
- 操作层：追加操作，可建立关联
- 呈现层：重新定义
- 边界层：合并约束

### 6.3 示例

```yaml
名称: 记账宠物
继承: [记账]

信息:
  宠物:
    名称: string
    形态: [蛋, 幼年, 成年]
    饱食度: number

操作:
  - 记一笔 → 宠物获得食物
  - 连续记账7天 → 宠物进化

呈现:
  首页: 宠物 + 本月概览
  记账: 数字键盘 + 宠物反馈动画

边界:
  守: [记账驱动成长, 不氪金]
  未: [宠物对战, 排行榜]
```

## 7. 扩展机制

### 7.1 三种扩展入口

| 入口 | 说明 | 产出 |
|------|------|------|
| **造词** | 贡献新原语 | 新的原语定义 |
| **造包** | 贡献领域原语集 | 领域包（如 TV、游戏） |
| **造式** | 贡献叠加模式 | 叠加模板 |

### 7.2 成长规则

- 不设计，只记录
- 活下来的就是标准
- 演化：被使用的模式自然成为标准

## 8. 领域包

领域包是针对特定领域的原语集合扩展。

```yaml
# domains/tv/index.yaml
领域: TV

原语:
  - 名称: 焦点
    说明: 当前选中的元素
  - 名称: 遥控
    说明: 遥控器交互
```

使用领域包：

```yaml
名称: TV应用
使用: [tv]

信息:
  ...
```

## 9. 版本

- 版本：1.0.0
- 日期：2025年
- 状态：初始版本
